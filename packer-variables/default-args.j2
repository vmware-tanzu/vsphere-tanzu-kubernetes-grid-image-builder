{
    {# Don't modify the default templating values unless required as all the
    all the values are automatically populated during the image build process #}
    {# TODO: we might not need this unless we use vsphere-clone builder #}
    "template": "base-{{ os_type }}",
    "load_additional_components": "true",
    "additional_url_images": "true",
    {# docker registry image for local registry to host container images  #}
    "additional_url_images_list": "http://{{ host_ip }}:{{ artifacts_container_port }}/artifacts/{{ kubernetes_version }}/bin/linux/amd64/docker_distribution_container_image.tar",
    {# variables passed to the ansible role, if required a new custom
    role requires new variable append to this list at the end #}
    {% if os_type == "photon-5" %}
    "additional_ansible_user_vars": "run_sysctl_net_ipv6_conf_all_mc_forwarding=false run_sysctl_net_ipv6_conf_default_mc_forwarding=false run_sysctl_net_ipv6_conf_eth0_mc_forwarding=false run_kernel_net_ip_forward=false run_modprobe_conf=false run_fips_boot_enable=false run_openssl_fips=false run_sshd_banner=false",
    "photon_stig_custom_role": "/image-builder/images/capi/image/compliance",
    {% elif os_type == "photon-3" %}
    "additional_ansible_user_vars": "run_sysctl_net_ipv6_conf_all_mc_forwarding=false run_sysctl_net_ipv6_conf_default_mc_forwarding=false run_sysctl_net_ipv6_conf_eth0_mc_forwarding=false run_sshd_banner=false",
    "photon_stig_custom_role": "/image-builder/images/capi/image/compliance/roles/photon3",
    {% endif %}
    "ansible_user_vars": "artifacts_container_url=http://{{ host_ip }}:{{ artifacts_container_port }} dockerVersion={{ docker_distribution }} imageVersion={{ image_version|replace('-', '.') }} ansible_python_interpreter=/usr/bin/python3 addon_image_list=http://{{ host_ip }}:{{ artifacts_container_port }}/artifacts/{{ kubernetes_version }}/packages/calico.tar,http://{{ host_ip }}:{{ artifacts_container_port }}/artifacts/{{ kubernetes_version }}/packages/metrics-server.tar,http://{{ host_ip }}:{{ artifacts_container_port }}/artifacts/{{ kubernetes_version }}/packages/capabilities.tar,http://{{ host_ip }}:{{ artifacts_container_port }}/artifacts/{{ kubernetes_version }}/packages/guest-cluster-auth-service.tar,http://{{ host_ip }}:{{ artifacts_container_port }}/artifacts/{{ kubernetes_version }}/packages/pinniped.tar,http://{{ host_ip }}:{{ artifacts_container_port }}/artifacts/{{ kubernetes_version }}/packages/antrea.tar,http://{{ host_ip }}:{{ artifacts_container_port }}/artifacts/{{ kubernetes_version }}/packages/vsphere-cpi.tar,http://{{ host_ip }}:{{ artifacts_container_port }}/artifacts/{{ kubernetes_version }}/packages/vsphere-pv-csi.tar,http://{{ host_ip }}:{{ artifacts_container_port }}/artifacts/{{ kubernetes_version }}/packages/secretgen-controller.tar,http://{{ host_ip }}:{{ artifacts_container_port }}/artifacts/{{ kubernetes_version }}/packages/kapp-controller.tar{% if gateway_package_present %},http://{{ host_ip }}:{{ artifacts_container_port }}/artifacts/{{ kubernetes_version }}/packages/gateway-api.tar{% endif %} localhost_addon_image_list={{ calico_package_localhost_path }},{{ metrics_server_package_localhost_path }},{{ capabilities_package_localhost_path }},{{ guest_cluster_auth_service_package_localhost_path }},{{ pinniped_package_localhost_path }},{{ antrea_package_localhost_path }},{{ vsphere_cpi_package_localhost_path }},{{ vsphere_pv_csi_package_localhost_path }},{{ secretgen_controller_package_localhost_path }},{{ kapp_controller_localhost_path }}{% if gateway_package_present %},{{ gateway_api_package_localhost_path }}{% endif %} networkd_dispatcher_download_url=http://{{ host_ip }}:{{ artifacts_container_port }}/artifacts/networkd-dispatcher-2.1.tar.bz2 run_kernel_net_ip_forward=false photon_stig_compliance={{ photon_stig_compliance }} registry_store_archive_url=http://{{ host_ip }}:{{ artifacts_container_port }}/artifacts/{{ kubernetes_version }}/registries/{{ registry_store_path }}",
    "kubernetes_typed_version": "{{ image_version }}",
    "vmx_version": "17",
    "cpu": "2",
    "memory": "4096",
    "cpu_cores": "2",
    {# kubernetes related information will be populated based on
     information pulled from artifacts container #}
    "containerd_version": "{{ containerd }}",
    "pause_image": "localhost:5000/vmware.io/pause:{{ pause }}",
    "containerd_url": "http://{{ host_ip }}:{{ artifacts_container_port }}/artifacts/{{ kubernetes_version }}/bin/linux/amd64/cri-containerd.tar",
    "containerd_sha256": "{{ containerd_sha256 }}",
    "kubernetes_series": "{{ kubernetes_series }}",
    "kubernetes_semver": "{{ kubernetes_version }}",
    "kubernetes_container_registry": "projects.registry.vmware.com/tkg",
    "kubernetes_source_type": "http",
    {# kubernetes binaries location for CNI, kubelet, kubectl #}
    "kubernetes_http_source": "http://{{ host_ip }}:{{ artifacts_container_port }}/artifacts",
    "kubernetes_load_additional_imgs": "true",
    "kubeadm_template": "etc/kubeadm.yml",
    "kubernetes_cni_source_type": "http",
    "kubernetes_cni_semver": "{{ cni_plugins }}",
    "kubernetes_cni_http_source": "http://{{ host_ip }}:{{ artifacts_container_port }}/artifacts/cni_plugins",
    "kubernetes_cni_http_checksum": "",
    "kubernetes_enable_automatic_resource_sizing": "true",
    "disable_public_repos": "false",
    "remove_extra_repos": "true",
    {# Packer VM name #}
    "build_version": "{{ os_type }}-kube-{{ kubernetes_series }}-{{ ova_ts_suffix }}",
    "custom_role": "true",
    {# If a custom role is create in a different location append that
    location after mounting that Path using docker #}
    "custom_role_names": "/image-builder/images/capi/image/ansible {% if photon_stig_compliance == "true" %}{{ photon_stig_custom_role }}{% endif %}",
    {# Update the required packer based on the OS consumption #}
    {% if os_type == "photon-3" %}
    "distro_version": "3.0",
    "extra_rpms": "glibc zlib filesystem ethtool pkg-config bash bzip2 shadow procps-ng iana-etc coreutils bc libtool findutils xz iproute2 util-linux kmod linux linux-devel iptables Linux-PAM systemd dbus file e2fsprogs rpm gawk cloud-utils gptfdisk nfs-utils openssh gdbm photon-release photon-repos haveged sed grep cpio gzip vim libdb tdnf less iputils bindutils diffutils bridge-utils cri-tools apparmor-utils apparmor-profiles krb5 which tzdata motd sudo iotop lsof traceroute ethtool dstat ltrace ipset netcat tcpdump wget net-tools curl tar open-vm-tools libseccomp cloud-init sysstat jq conntrack"
    {% elif os_type == "photon-5" %}
    "distro_version": "5.0",
    "extra_rpms": "glibc zlib filesystem ethtool pkg-config bash bzip2 shadow procps-ng iana-etc coreutils bc libtool findutils xz iproute2 util-linux kmod linux linux-devel iptables Linux-PAM systemd dbus file e2fsprogs rpm gawk cloud-utils gptfdisk nfs-utils openssh gdbm photon-release photon-repos haveged sed grep cpio gzip vim tdnf less iputils bindutils diffutils bridge-utils cri-tools apparmor-utils apparmor-profiles krb5 which tzdata motd sudo iotop lsof traceroute ethtool dstat ltrace ipset netcat tcpdump wget net-tools curl tar open-vm-tools libseccomp cloud-init sysstat jq conntrack dkms"
    {% elif os_type == "ubuntu-2004-efi" %}
    "distro_version": "20.04",
    "extra_debs": "unzip iptables-persistent nfs-common",
    "boot_disable_ipv6": "1"
    {% elif os_type == "ubuntu-2204-efi" %}
    "distro_version": "22.04",
    "extra_debs": "unzip iptables-persistent nfs-common dkms",
    "boot_disable_ipv6": "1"
    {% endif %}
}
